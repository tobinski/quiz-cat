jQuery(document).ready(function($){function loadQuizzes(){$(".fca_qc_quiz").each(function(index){var thisId=get_quiz_id(this);quizzes[thisId]=eval("quizData_"+thisId)}),$.each(quizzes,function(e){for(var s=0;s<quizzes[e].questions.length;s++)""==quizzes[e].questions[s].answer&&quizzes[e].questions.splice(s)})}function preloadImages(){var e=[];$.each(quizzes,function(s){for(var n=0;n<quizzes[s].quiz_results.length;n++)e[n]=new Image,e[n].src=quizzes[s].quiz_results[n].img})}function get_quiz_id(e){return $(e).attr("id").replace(/\D+/g,"")}function showQuestion(e){if(e.currentQuestion<e.questionCount){$(e.selector).find(".fca_qc_question_count").html(e.currentQuestion+1+"/"+e.questionCount),$(e.selector).find(".fca_qc_answer_div").removeClass("quizprep-wrong-answer");var s=e.questions[e.currentQuestion].question,n=e.questions[e.currentQuestion].answer,i=e.questions[e.currentQuestion].wrong1,c=e.questions[e.currentQuestion].wrong2,r=e.questions[e.currentQuestion].wrong3,t=[n,i,c,r],o=shuffleArray(t);$(e.selector).find("#fca_qc_question").html(s),$(e.selector).find("#fca_qc_question_back").html(s),$(e.selector).find(".fca_qc_answer_div").show();for(var _=0;_<o.length;_++)""==o[_]?$(e.selector).find(".fca_qc_answer_span").eq(_).parent().hide():$(e.selector).find(".fca_qc_answer_span").eq(_).html(o[_]);e.currentQuestion=e.currentQuestion+1,e.currentAnswer=n,scale_flip_box(e.selector)}else endTest(e)}function scale_flip_box(e){var s=$(e).find("#fca_qc_question").outerHeight(!0);$(e).find(".fca_qc_answer_div").each(function(){$(this).is(":visible")&&(s+=$(this).outerHeight(!0))}),400>s&&(s=400),$(e).find(".fca_qc_quiz_div, #fca_qc_answer_container, #fca_qc_back_container").height(s)}function set_result(e){for(var s="undefined",n=0;"undefined"==s;)e.quiz_results[n].min<=e.score&&e.quiz_results[n].max>=e.score?s=e.quiz_results[n]:n==e.quiz_results.length?s="error":n++;var i=scoreString.replace("{{SCORE_CORRECT}}",e.score);i=i.replace("{{SCORE_TOTAL}}",e.questionCount),$(e.selector).find(".fca_qc_score_text").html(i),$(e.selector).find(".fca_qc_score_title").html(s.title),$(e.selector).find(".fca_qc_score_img").attr("src",s.img),$(e.selector).find(".fca_qc_score_desc").html(s.desc)}function show_responses(e){for(var s=0;s<e.questions.length;s++)do_answer_response_div(e.questions[s].question,e.questions[s].answer,e.responses[s],s+1,e.selector,e.your_answer_string,e.correct_answer_string);$(e.selector).find(".fca_qc_result_container").show()}function do_answer_response_div(e,s,n,i,c,r,t){var o="";o+=s==n?"<div class='fca_eoi_question_response_item correct-answer'>":"<div class='fca_eoi_question_response_item wrong-answer'>",o+="<h3 class='fca_eoi_question_response_question'>"+i+". "+e+"</h3>",o+="<p class='fca_eoi_question_response_response'><span class='fca_qc_bold'>"+r+" </span>"+n+"</p>",o+="<p class='fca_eoi_question_response_correct_answer'><span class='fca_qc_bold'>"+t+" </span>"+s+"</p>",o+="</div>",$(c).find(".fca_qc_insert_response_above").before(o)}function endTest(e){$(e.selector).find(".fca_qc_quiz_footer").hide(),$(e.selector).find(".fca_qc_quiz_div").hide(),$(e.selector).find(".fca_qc_score_container").show(),set_result(e),e.hideAnswers&&show_responses(e)}function shuffleArray(e){for(var s=e.length-1;s>0;s--){var n=Math.floor(Math.random()*(s+1)),i=e[s];e[s]=e[n],e[n]=i}return e}const scoreString=$(".fca_qc_score_text").first().html();var quizzes={};loadQuizzes(),preloadImages(),$(".fca_qc_start_button").click(function(){var e=quizzes[get_quiz_id(this.parentNode)];e.currentQuestion=0,e.score=0,e.responses=[],e.questionCount=e.questions.length,e.selector=this.parentNode,e.hideAnswers="on"==e.quiz_settings.hide_answers?!0:!1,$(this).siblings(".fca_qc_quiz_title").hide(),$(this).siblings(".fca_qc_quiz_description").hide(),$(this).siblings(".fca_qc_quiz_description_img").hide(),$(this).hide(),$(this).siblings(".fca_qc_quiz_div").show(),$(this).siblings(".fca_qc_quiz_footer").show(),$(this).siblings(".flip-container").show(),$(this).siblings(".fca_qc_question_count").html("1/"+e.questionCount),showQuestion(e)}),$(".fca_qc_next_question").click(function(){var e=quizzes[get_quiz_id($(this).closest(".fca_qc_quiz"))];$(e.selector).find(".fca_qc_quiz_div").removeClass("flip"),showQuestion(e)}),$(".fca_qc_answer_div").click(function(){var e=quizzes[get_quiz_id($(this).closest(".fca_qc_quiz"))];$(this).blur(),e.responses.push($(this).children(".fca_qc_answer_span").html()),e.hideAnswers?$(this).children(".fca_qc_answer_span").html()==e.currentAnswer?(e.score=e.score+1,showQuestion(e)):showQuestion(e):($(e.selector).find(".fca_qc_quiz_div").addClass("flip"),$(e.selector).find("#fca_qc_back_container").removeClass("correct-answer"),$(e.selector).find("#fca_qc_back_container").removeClass("wrong-answer"),$(e.selector).find("#fca_qc_your_answer").html($(this).children(".fca_qc_answer_span").html()),$(e.selector).find("#fca_qc_correct_answer").html(e.currentAnswer),$(this).children(".fca_qc_answer_span").html()==e.currentAnswer?(e.score=e.score+1,$(e.selector).find("#fca_qc_back_container").addClass("correct-answer"),$(e.selector).find("#fca_qc_question_right_or_wrong").html(e.correct_string),$(e.selector).find("#fca_qc_correct_answer_p").hide()):($(e.selector).find("#fca_qc_back_container").addClass("wrong-answer"),$(e.selector).find("#fca_qc_question_right_or_wrong").html(e.wrong_string),$(e.selector).find("#fca_qc_correct_answer_p").show()))})});